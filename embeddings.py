import gensim
from gensim.test.utils import datapath
from gensim.models import KeyedVectors
import json

#playing around with embeddings and writing list of words in embeddings to file

# loading word embedding files
asts_path = ".\\Word2Vec\\ast_num_w2v_500.txt"
cgs_path = ".\\Word2Vec\\cg_w2v_300.txt"
sysevr_path = ".\\Word2Vec\\sysevr_w2v_300.txt"

ast_model = KeyedVectors.load_word2vec_format(asts_path, binary=False)
print(ast_model.wv.most_similar('10'))

# cg_model = KeyedVectors.load_word2vec_format(cgs_path, binary=False)
# print(cg_model.wv.most_similar('FUN3'))

# sysevr_model = KeyedVectors.load_word2vec_format(sysevr_path, binary=False)
# print(sysevr_model.wv.most_similar('variable_13'))

# saving unique words in embedding to a json file
ast_words = list(ast_model.wv.vocab)
print(ast_words[0:5])

# cg_words = list(cg_model.wv.vocab)
# print(cg_words[0:5])
#
# sysevr_words = list(sysevr_model.wv.vocab)
# print(sysevr_words[0:5])

ast_words_path = ".\\Word2Vec\\ast_num_vocab_500.json"
cg_words_path = ".\\Word2Vec\\cg_vocab_300.json"
sysevr_words_path = ".\\Word2Vec\\sysevr_vocab_300.json"
#
with open(ast_words_path, 'w') as f1:
    json.dump(ast_words, f1)

# with open(cg_words_path, 'w') as f2:
#     json.dump(cg_words, f2)
#
# with open(sysevr_words_path, 'w') as f3:
#     json.dump(sysevr_words, f3)
#
print('done')
#
