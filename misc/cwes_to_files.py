from os import walk
import shutil
import pandas as pd


def separate_cwes_to_files(path, dest, delimiter):
    count = 1
    z=0
    data = ''
    f = open(path, encoding='utf-8')

    for line in f:
        data += line
        z+=1
        print(z)

    print('done reading')

    vuls = data.split(delimiter)
    print(len(vuls))
    for d in vuls:
        f = open(dest + str(count) + ".txt", 'w', encoding='utf-8')
        f.write(d)
        count += 1

    print('done writing')


# path_bulk_cwes = 'D:\\lenovo\\Desktop\\2018280142\\Preprocess\\data\\SySeVR\\PointerU\\Pointer usage.txt'
path_bulk_cwes = 'D:\\lenovo\\Desktop\\pu.txt'
dest_of_file = 'D:\\lenovo\\Desktop\\PointerU\\'

separate_cwes_to_files(path_bulk_cwes, dest_of_file, '------------------------------')
